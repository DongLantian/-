---
title: 计算机网络
date: 2019-04-25 21:07:31
tags: 
- 计算机网络
categories:
- 面试基础知识总结

---



https://blog.csdn.net/justloveyou_/article/details/78303617

https://www.imooc.com/article/48819

## 1.计算机网络分为哪几层？

![](images\捕5获.PNG)

1. 应用层

   应用进程之间通信

   **应用层的任务是通过应用进程间的交互来完成特定网络应用。**应用层协议定义的是应用进程（进程：主机中正在运行的程序）间的通信和交互的规则。对于不同的网络应用需要不同的应用层协议。在互联网中应用层协议很多，如**域名系统DNS**，支持万维网应用的**HTTP协议**，支持电子邮件的**SMTP协议**等等。我们把应用层交互的数据单元称为报文。

2. 运输层

   为应用进程之间提供==端到端==的逻辑通信

3. 网络层

   **网络层负责为分组交换网上的不同主机提供通信服务。**在发送数据时，网络层把运输层产生的报文段或用户数据报封装成分组和包进行传送。在TCP/IP体系结构中，由于网络层使用**IP协议**，因此分组也叫**IP数据报**，简称**数据报**。

4. 数据链路层

   数据链路层将网络层交下来的IP数据报组装程帧，在两个相邻节点间的链路上传送帧。

5. 物理层

   在物理层上所传送的数据单位是比特。
   物理层的作用是实现相邻计算机节点之间比特流的透明传送，尽可能屏蔽掉具体传输介质和物理设备的差异。

## 2.TCP和UDP

区别：

1. TCP是面向连接的，UDP是无连接的；
2. TCP是可靠的，UDP是不可靠的；
3. TCP只支持点对点通信，UDP支持一对一、一对多、多对一、多对多的通信模式；
4. TCP是面向字节流的，UDP是面向报文的；
5. TCP有拥塞控制机制;UDP没有拥塞控制，适合媒体通信；
6. TCP首部开销(20个字节)比UDP的首部开销(8个字节)要大；

* 使用TCP的应用层协议：SMTP、TELNET、==HTTP==、FTP
* 使用UDP的应用层协议：TFTP、RIP、DHCP、SNMP、IGMP

​        所以如果我们的发送消息之类的场景，因为你要确保用户的消息不会丢失，需要使用TCP协议。如果你是在进行视频聊天或者看直播，那你可以使用UDP协议，因为即使几个画面丢失了，对用户来说影响也不是很大。

## 3.TCP的拥塞处理

==使用滑动窗口进行流量控制==

==使用如下几个方法进行拥塞控制：==

1). 慢启动：不要一开始就发送大量的数据，先探测一下网络的拥塞程度，也就是说由小到大逐渐增加拥塞窗口的大小;

2). 拥塞避免：拥塞避免算法让拥塞窗口缓慢增长，即每经过一个往返时间RTT就把发送方的拥塞窗口cwnd加1，而不是加倍，这样拥塞窗口按线性规律缓慢增长。　　　　　　　　　

3). 快重传：快重传要求接收方在收到一个 失序的报文段 后就立即发出 重复确认（为的是使发送方及早知道有报文段没有到达对方）而不要等到自己发送数据时捎带确认。快重传算法规定，发送方只要一连收到三个重复确认就应当立即重传对方尚未收到的报文段，而不必继续等待设置的重传计时器时间到期。　　　　　　　　　

4). 快恢复：快重传配合使用的还有快恢复算法，当发送方连续收到三个重复确认时，就执行“乘法减小”算法，把ssthresh门限减半，但是接下去并不执行慢开始算法：因为如果网络出现拥塞的话就不会收到好几个重复的确认，所以发送方现在认为网络可能没有出现拥塞。所以此时不执行慢开始算法，而是将cwnd设置为ssthresh的大小，然后执行拥塞避免算法。

## 4.TCP三次握手四次挥手
* 为什么TCP链接需要三次握手，两次不可以么，为什么？

　　为了==防止已失效的链接请求报文突然又传送到了服务端==，因而产生错误。

​	当客户端发出的连接请求后，如果报文并未丢失，而是在某个网络节点长时间滞留了，以致延误到客户端的连接释放以后的某个时间才到达Server。这是，Server误以为这是Client发出的一个新的链接请求，于是就向客户端发送确认数据包，同意建立链接。若不采用“三次握手”，那么只要Server发出确认数据包，新的链接就建立了。由于client此时并未发出建立链接的请求，所以其不会理睬Server的确认，也不与Server通信；而这时Server一直在等待Client的请求，这样Server就白白浪费了一定的资源。

## 5.输入域名访问一个网站过程

​		(1). 获取域名对应的IP地址：具体过程包括浏览器搜索自身的DNS缓存、搜索操作系统的DNS缓存、读取本地的Host文件和向本地DNS服务器进行查询等。

​		(2). 浏览器获得域名对应的IP地址以后，浏览器向服务器请求建立链接，发起三次握手；

​		(3). TCP/IP链接建立起来后，浏览器向服务器发送HTTP请求；

​		(4). 服务器接收到这个请求，并根据路径参数映射到特定的请求处理器进行处理，并将处理结果及相应的视图返回给浏览器；

​		(5). 浏览器解析并渲染视图，若遇到对js文件、css文件及图片等静态资源的引用，则重复上述步骤并向服务器请求这些资源；

​		(6). 浏览器根据其请求到的资源、数据渲染页面，最终向用户呈现一个完整的页面。   

## 6.HTTP和HTTPS

https是在http上面套了一层ssl，用来实现安全连接。用到的密钥有对称密钥和非对称密钥。

 HTTPS和HTTP的区别：

1. https协议需要到ca申请证书，一般免费证书很少，需要交费。
2. http是超文本传输协议，信息是明文传输，https 则是具有安全性的ssl加密传输协议。
3. http和https使用的是完全不同的连接方式用的端口也不一样，前者是80，后者是443。
4. http的连接很简单，是无状态的。
5.  HTTPS协议是由SSL+HTTP协议构建的可进行加密传输、身份认证的网络协议，要比http协议安全。   

## 7.什么是socket？
​    socket是用来进行网络通信的，java里面已经有封装好这个类了，分为客户端和服务器，通过ip+端口来进行访问。如果没有用过socket的话，建议你到网上找一个demo，跟着写一下，你基本上就知道socket怎么用了，算是比较简单的。      

## 8.BIO、NIO与AIO

​	一：同步阻塞IO（BIO）

​        我们熟知的Socket编程就是BIO，一个socket连接一个处理线程（这个线程负责这个Socket连接的一系列数据传输操作）。阻塞的原因在于：操作系统允许的线程数量是有限的，多个socket申请与服务端建立连接时，服务端不能提供相应数量的处理线程，没有分配到处理线程的连接就会阻塞等待或被拒绝。

​         二：同步非阻塞IO（NIO）

​         Non-blocked IO是对BIO的改进，基于Reactor模型。我们知道，一个socket连接只有在特定的时候才会发生数据传输IO操作，大部分时间这个“数据通道”是空闲的，但还是占用着线程。NIO作出的改进就是“一个请求一个线程”，在连接到服务端的众多socket中，只有需要进行IO操作的才能获取服务端的处理线程进行IO。这样就不会因为线程不够用而限制了socket的接入。客户端的socket连接到服务端时，就会在事件分离器注册一个 IO请求事件 和 IO 事件处理器。在该连接发生IO请求时，IO事件处理器就会启动一个线程来处理这个IO请求，不断尝试获取系统的IO的使用权限，一旦成功（即：可以进行IO），则通知这个socket进行IO数据传输。

​	 三：异步阻塞IO（AIO）

​          NIO是同步的IO，是因为程序需要IO操作时，必须获得了IO权限后亲自进行IO操作才能进行下一步操作。AIO是对NIO的改进（所以AIO又叫NIO.2），它是基于Proactor模型的。每个socket连接在事件分离器注册 IO完成事件 和 IO完成事件处理器。程序需要进行IO时，向分离器发出IO请求并把所用的Buffer区域告知分离器，分离器通知操作系统进行IO操作，操作系统自己不断尝试获取IO权限并进行IO操作（数据保存在Buffer区），操作完成后通知分离器；分离器检测到 IO完成事件，则激活 IO完成事件处理器，处理器会通知程序说“IO已完成”，程序知道后就直接从Buffer区进行数据的读写。

​          也就是说：**AIO是发出IO请求后，由操作系统自己去获取IO权限并进行IO操作；NIO则是发出IO请求后，由线程不断尝试获取IO权限，获取到后通知应用程序自己进行IO操作。**

​    https://my.oschina.net/mywiki/blog/893943

## 9.HTTP中get和post的区别

Get和Post在面试中一般都会问到，一般的区别： 

1. post更安全（不会作为url的一部分，不会被缓存、保存在服务器日志、以及浏览器浏览记录中）
2. post发送的数据更大（get有url长度限制） 
3. post能发送更多的数据类型（get只能发送ASCII字符） 
4. post比get慢 
5. post用于修改和写入数据，get一般用于搜索排序和筛选之类的操作（淘宝，支付宝的搜索查询都是get提交），目的是资源的获取，读取数据 